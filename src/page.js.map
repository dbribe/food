{"version":3,"file":"page.js","sources":["page/Utils.js","page/platforms/BasePlatform.js","page/platforms/Caserola.js","page/config.js","page/platforms/SushiTerra.js","page/platforms/TakeAway.js","page/Main.js"],"sourcesContent":["export const levenshtein = (a, b) => {\n    if(!a || !b) return (a || b).length;\n    const m = [];\n    for(let i = 0; i <= b.length; i++){\n        m[i] = [i];\n        if(i === 0) continue;\n        for(let j = 0; j <= a.length; j++){\n            m[0][j] = j;\n            if(j === 0) continue;\n            m[i][j] = b.charAt(i - 1) == a.charAt(j - 1) ? m[i - 1][j - 1] : Math.min(\n                m[i-1][j-1] + 1,\n                m[i][j-1] + 1,\n                m[i-1][j] + 1\n            );\n        }\n    }\n    return m[b.length][a.length];\n};","import {levenshtein} from \"../Utils\";\n\nexport class BasePlatform {\n    dishes = [];\n\n    // Format of the array should be {element, title, price}\n    getDishes() {\n        return [];\n    }\n\n    findItem(str) {\n        let dish, bestScore = 1e6;\n        for (let i = 0; i < this.dishes.length; i += 1) {\n            const score = (levenshtein(str, this.dishes[i].title) + Math.abs(str.length - this.dishes[i].title.length)) / (str.length + this.dishes[i].title.length);\n            if (score < bestScore) {\n                bestScore = score;\n                dish = this.dishes[i];\n            }\n        }\n        if (bestScore > .25) {\n            console.warn(\"Mismatch\", str, bestScore);\n            return null;\n        }\n        return dish;\n    }\n\n    order(data) {\n        this.dishes = this.getDishes();\n        let total = 0;\n        let itemsToOrder = [];\n        for (const person of data.split`\\n`) {\n            let str = person.trim().toLowerCase().split(/\\s+/).slice(1).join` `;\n            let personOrder = person.trim().split(/\\s+/)[0];\n            let matchPriceWithSpace = str.match(/- \\d+/);\n            let matchPriceNoSpace = str.match(/-\\d+/);\n            if (matchPriceWithSpace) {\n                str = str.slice(0,matchPriceWithSpace.index);\n            }\n            if (matchPriceNoSpace) {\n                str = str.slice(0,matchPriceNoSpace.index);\n            }\n            let totalCost = 0;\n            let personItems = [];\n            for (const item of str.split`+`) {\n                if (item.trim() === \"\") {\n                    continue;\n                }\n                let times = parseInt(item);\n                let itemStr = item;\n                if (isNaN(times)) {\n                    times = 1;\n                }\n                const extraMatch = item.match(/\\(.*\\)/);\n                let extra;\n                if (extraMatch) {\n                    extra = extraMatch[0];\n                    itemStr = itemStr.slice(0, extraMatch.index)\n                }\n                const itemToOrder = this.findItem(itemStr);\n                if (!itemToOrder) {\n                    continue;\n                }\n                totalCost += times * itemToOrder.price;\n\n                for (let j = 0; j < times; j += 1) {\n                    personItems.push(itemToOrder.title + (extra ? \"(\" + extra + \")\" : \"\"));\n                    itemsToOrder.push(itemToOrder);\n                }\n            }\n            console.log(personOrder, personItems.join` + `, totalCost);\n        }\n\n        this.orderItems(itemsToOrder);\n    }\n\n    orderItems() {}\n\n    fillOrder() {}\n\n    static getInstance() {\n        if (!this.instance) {\n            this.instance= new this();\n        }\n        return this.instance;\n    }\n}","import {BasePlatform} from \"./BasePlatform\";\n\nexport class Caserola extends BasePlatform{\n    getDishes() {\n        const elements = document.querySelectorAll(\".product\");\n        return [...elements].map(element => {\n            return {\n                element,\n                title: element.querySelector(\".product-title\").innerText.trim().toLowerCase(),\n                price: parseFloat(element.querySelector('.subsection-price>:first-child').innerText.replace(\",\",\".\"))\n            }\n        });\n    }\n\n    orderItems(itemsToOrder) {\n        let total = 0;\n        let index = -1;\n        const intervalOrder = setInterval(() => {\n            index++;\n            if (index == itemsToOrder.length) {\n                clearInterval(intervalOrder);\n            }\n            const item = itemsToOrder[index];\n            item.element.querySelector(\".add-to-cart-button\").click();\n            total += item.price;\n            console.log(total);\n        }, 1000);\n    }\n}","export const config = {\n    \"city\": \"Bucuresti \",\n    \"sector\": \"Sector 1 \",\n    \"postalCode\":  \"Cod postal: 010073 \",\n    \"street\": \"Calea Victoriei \",\n    \"number\": \"155 \",\n    \"block\": \"Bloc D1 \",\n    \"entrance\": \"Tronson 7 \",\n    \"floor\": \"Etaj 8 \",\n    \"apt\": \"Apt A8 \",\n    \"intercom\": \"-\",\n\n    \"firstName\": \"Andrei \",\n    \"lastName\": \"Popescu \",\n\n    \"phone\": \"0771799018\",\n    \"email\": \"csafood123@gmail.com\",\n};","import {BasePlatform} from \"./BasePlatform\";\nimport {config} from \"../config\";\n\nexport class SushiTerra extends BasePlatform {\n    getDishes() {\n        const elements = document.querySelectorAll(\".product\");\n        return [...elements].map(element => {\n            return {\n                element: element,\n                title: element.querySelector(\".desc>h4>a\").innerText.trim().toLowerCase(),\n                price: parseFloat(element.querySelector('.price .amount').innerText.replace(\",\",\".\"))\n            }\n        });\n    }\n\n    orderItems(itemsToOrder) {\n        let total = 0;\n        let index = -1;\n        const intervalOrder = setInterval(() => {\n            index++;\n            if (index == itemsToOrder.length) {\n                clearInterval(intervalOrder);\n            }\n            const item = itemsToOrder[index];\n            item.element.querySelector(\".add_to_cart_button\").click();\n            total += item.price;\n            console.log(total);\n        }, 1000);\n    }\n\n    fillOrder() {\n        document.querySelector(\"#billing_address_1\").value =  config.street + config.number + config.block;\n        document.querySelector(\"#billing_address_2\").value = config.entrance + config.floor;\n        document.querySelector(\"#billing_first_name\").value = config.firstName;\n        document.querySelector(\"#billing_last_name\").value = config.lastName;\n        document.querySelector(\"#billing_email\").value = config.email;\n        document.querySelector(\"#billing_phone\").value = config.phone;\n        document.querySelector(\"#billing_city\").value = config.city;\n        document.querySelector(`[name=\"terms\"]`).click()\n    }\n}","import {BasePlatform} from \"./BasePlatform\";\nimport {config} from \"../config\";\n\nexport class TakeAway extends BasePlatform {\n    getDishes() {\n        const elements = document.querySelectorAll(\".meal.meal__top-button\");\n        return [...elements].map(element => {\n            return {\n                element,\n                title: element.querySelector(\".meal-name\").innerText.trim().toLowerCase(),\n                price: parseFloat(element.querySelector('.meal__price').innerText.replace(\",\",\".\"))\n            }\n        });\n    }\n\n    orderItems(itemsToOrder) {\n        let index = -1;\n        let total = 0;\n        const intervalOrder = setInterval(() => {\n            index++;\n            if (index == itemsToOrder.length) {\n                clearInterval(intervalOrder);\n            }\n            const item = itemsToOrder[index];\n            item.element.click();\n            total += item.price;\n            console.log(total);\n            setTimeout(() => {\n                if (parseFloat(document.querySelector(\".cart-sum-price\").innerText.replace(\",\",\".\")) != total.toFixed(2)) {\n                    item.element.parentNode.querySelector(\".cartbutton-button-sidedishes\").click();\n                }\n            }, 1400);\n        }, 2000);\n    }\n\n    fillOrder() {\n        document.querySelector(\"#iaddress\").value = config.street + config.number;\n        document.querySelector(\"#iblock\").value = config.block;\n        document.querySelector(\"#ientrance\").value = config.entrance;\n        document.querySelector(\"#ifloor\").value = config.floor;\n        document.querySelector(\"#iapartmentname\").value = config.apt;\n        document.querySelector(\"#iintercom\").value = config.intercom;\n        document.querySelector(\"#isurname\").value = config.firstName + config.lastName;\n        document.querySelector(\"#iphonenumber\").value = config.phone;\n        document.querySelector(\"#ipaymentmethods > div.paymentbuttonwrapper.payment-method-type-online.paymentmethod31_2.paymentbuttonchecked\").click();\n    }\n}","import {Caserola} from \"./platforms/Caserola\";\nimport {SushiTerra} from \"./platforms/SushiTerra\";\nimport {TakeAway} from \"./platforms/TakeAway\";\n\n\n\nwindow.addEventListener(\"foodMessage\", event => {\n    const getMerchantOrder = () => {\n        return window.location.host === \"www.caserola.ro\" ? Caserola :\n            window.location.host === \"sushi-terra.ro\" ? SushiTerra : TakeAway;\n    };\n\n    event = event.detail;\n    if (event.type === \"order\") {\n        getMerchantOrder().getInstance().order(event.value);\n    } else if (event.type === \"fillOrder\") {\n        getMerchantOrder().getInstance().fillOrder();\n    }\n});"],"names":["levenshtein","a","b","length","m","i","j","charAt","Math","min","BasePlatform","dishes","str","dish","bestScore","score","title","abs","console","warn","data","getDishes","itemsToOrder","split","person","trim","toLowerCase","slice","join","personOrder","matchPriceWithSpace","match","matchPriceNoSpace","index","totalCost","personItems","item","times","parseInt","itemStr","isNaN","extraMatch","extra","itemToOrder","findItem","price","push","log","orderItems","instance","Caserola","elements","document","querySelectorAll","map","element","querySelector","innerText","parseFloat","replace","total","intervalOrder","setInterval","clearInterval","click","config","SushiTerra","value","street","number","block","entrance","floor","firstName","lastName","email","phone","city","TakeAway","setTimeout","toFixed","parentNode","apt","intercom","window","addEventListener","event","getMerchantOrder","location","host","detail","type","getInstance","order","fillOrder"],"mappings":"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"}